# 未来30天限售解禁
import jqdata
import numpy as np
import talib as ta

res = ['603988', '603976', '603970', '603963', '603929', '603912', '603897', '603838', '603811', '603738', '603676', '603637', '603633', '603628', '603577', '603506', '603488', '603477', '603396', '603386', '603380', '603363', '603356', '603335', '603322', '603289', '603286', '603283', '603266', '603223', '603168', '603129', '603118', '603110', '603106', '603099', '603069', '603063', '603060', '603058', '603036', '603029', '603028', '601882', '601858', '601500', '601116', '601086', '601020', '600981', '600903', '600896', '600853', '600838', '600833', '600802', '600800', '600769', '600721', '600716', '600689', '600653', '600647', '600634', '600602', '600594', '600560', '600520', '600517', '600462', '600456', '600422', '600419', '600400', '600387', '600386', '600371', '600360', '600359', '600354', '600345', '600343', '600313', '600303', '600281', '600272', '600268', '600215', '600207', '600206', '600187', '600184', '600178', '600135', '600131', '600119', '600117', '600113', '600099', '600095', '600088', '300731', '300730', '300726', '300723', '300720', '300719', '300717', '300711', '300708', '300702', '300701', '300698', '300692', '300686', '300682', '300675', '300664', '300657', '300655', '300621', '300619', '300611', '300609', '300606', '300603', '300593', '300582', '300565', '300562', '300560', '300557', '300556', '300555', '300552', '300548', '300546', '300542', '300540', '300530', '300529', '300526', '300522', '300519', '300509', '300507', '300503', '300500', '300496', '300494', '300493', '300490', '300488', '300479', '300469', '300462', '300427', '300414', '300412', '300403', '300402', '300399', '300390', '300363', '300356', '300352', '300349', '300346', '300345', '300341', '300339', '300334', '300322', '300302', '300298', '300293', '300268', '300265', '300263', '300259', '300252', '300250', '300249', '300247', '300243', '300235', '300231', '300223', '300220', '300216', '300205', '300191', '300189', '300188', '300177', '300175', '300161', '300156', '300150', '300143', '300140', '300134', '300123', '300117', '300114', '300107', '300105', '300100', '300093', '300079', '300078', '300076', '300065', '300044', '300043', '300036', '300034', '300010', '002922', '002921', '002919', '002911', '002910', '002909', '002907', '002900', '002898', '002895', '002890', '002881', '002877', '002870', '002869', '002858', '002848', '002845', '002837', '002830', '002826', '002824', '002822', '002816', '002815', '002813', '002808', '002806', '002786', '002782', '002777', '002775', '002771', '002758', '002748', '002738', '002722', '002715', '002703', '002702', '002694', '002667', '002666', '002642', '002632', '002625', '002621', '002613', '002605', '002587', '002577', '002569', '002568', '002566', '002523', '002461', '002455', '002438', '002432', '002417', '002365', '002361', '002351', '002350', '002346', '002339', '002323', '002297', '002289', '002265', '002264', '002235', '002213', '002192', '002190', '002173', '002164', '002144', '002137', '002133', '002112', '002076', '002046', '002045', '002041', '002022', '002017', '002016', '002012', '000993', '000985', '000925', '000908', '000893', '000882', '000862', '000852', '000851', '000820', '000819', '000810', '000801', '000789', '000788', '000759', '000713', '000701', '000695', '000692', '000687', '000673', '000670', '000615', '000607', '000605', '000590', '000565', '000532', '000505', '000410', '000301', '000153', '000151', '000065', '000037', '000032', '000023', '000019', '000014', '600962', '600444', '600311']
xsg = get_locked_shares(stock_list=res, start_date='2018-04-10', forward_count=60)
xsg_codes = []
for index,row in xsg.iterrows():
    xsg_codes.append(row['code'])
print(xsg_codes)    