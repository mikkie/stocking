# -*-coding=utf-8-*-
__author__ = 'aqua'

import requests
from HYConceptParser import HYConceptParser

header = {
        'Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
        'Accept-Encoding':'gzip, deflate',
        'Accept-Language':'en-US,en;q=0.9',
        'Cache-Control':'max-age=0',
        'Connection':'keep-alive',
        'Cookie':'uaid=3e9d33c7f0daebe595757fcd5d3722ba; spversion=20130314; historystock=002650%7C*%7C300033; Hm_lvt_78c58f01938e4d85eaf619eae71b4ed1=1519633826,1519692417; __utma=156575163.844587348.1519633850.1519633850.1519692420.2; __utmc=156575163; __utmz=156575163.1519692420.2.2.utmcsr=10jqka.com.cn|utmccn=(referral)|utmcmd=referral|utmcct=/; Hm_lpvt_78c58f01938e4d85eaf619eae71b4ed1=1519692494; v=Aqge3lYMZt8hk0pb095tdgYSeZ2-0Qzb7jXgX2LZ9CMWvUYLCuHcaz5FsOex',
        'Host':'q.10jqka.com.cn',
        'Referer':'http://q.10jqka.com.cn/thshy/',
        'Upgrade-Insecure-Requests':'1',
        'User-Agent':'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.119 Safari/537.36'
    }

codes = [];
hy = ['881166','881163','881164','881150','881147','881101','881119','881129','881127','881162','881130','881143','881121','881138','881117','881123','881118','881152','881142','881110','881135','881102','881122','881165','881120','881126','881144','881159','881124','881109','881104','881103','881116','881158','881136','881128','881132','881146','881145','881154','881137','881139','881134','881114','881160','881141','881140','881107','881156','881149','881108','881106','881133','881125','881131','881115','881148','881111','881157','881161','881153','881113','881151','881155','881112','881105']
gn = ['301780','300013','302045','301524','300756','301786','302170','300082','304756','300134','300362','300889','301522','301050','302142','300419','300804','301284','300800','302027','300646','300835','300309','301085','300890','301436','301175','300722','300345','301249','301628','301699','301631','300843','300806','300642','301292','301683','300389','304116','301213','300019','300682','301620','300830','302035','300870','301166','302111','300132','302010','301471','301146','300402','300378','300917','300353','300127','301209','300440','300444','301223','301286','300831','301154','300816','302166','304582','301227','300188','300210','300836','300374','301543','300723','301121','301797','301139','300037','301408','300053','301505','300008','300023','301565','301416','301128','301558','301624','300903','301799','301518','301663','300105','300163','300352','300158','301605','300883','300923','301229','302154','301494','300269','301636','301489','300709','300786','300920','300730','302148','300221','300186','300277','300891','300168','301623','301100','301561','300358','302150','300085','301402','300238','301366','300337','300769','301179','301546','300265','301700','301564','302131','301539','301502','300973','300733','300858','300018','301383','300862','300200','300649','301079','300075','300350','300351','300261','306398','301497','300386','300983','300100','301346','301490','300898','300900','301496','300073','301365','302674','302182','301715','301541','305794','300220','301306','302034','300451','301783','302046','300157','301630','301171','300755','300809','300704','301236','300382','301632','301491','307512','300845','300403','300814','300316','303944','301627','300248','300061','300084','300777','301455','306750','307826']
hyURL = 'http://q.10jqka.com.cn/thshy/detail/code/'
gnURL = 'http://q.10jqka.com.cn/gn/detail/code/'

def func(url,hygnList):
    for code in hygnList:
        response = requests.get(url + code+'/',headers=header, verify=False)
        parser = HYConceptParser()
        temps = parser.parse(response.text)
        for temp in temps:
            if temp not in codes:
               codes.append(temp)

func(hyURL,hy)
func(gnURL,gn)    
print(codes)

