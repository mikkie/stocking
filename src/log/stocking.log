Job "getData (trigger: interval[0:00:02], next run at: 2018-02-12 13:20:03 CST)" raised an exception
Traceback (most recent call last):
  File "D:\Python35\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "D:\aqua\stock\stocking\src\tools\T10.py", line 110, in getData
    df = ts.get_realtime_quotes(codeSplitMaps[key])
  File "D:\Python35\lib\site-packages\tushare\stock\trading.py", line 375, in get_realtime_quotes
    text = urlopen(request,timeout=10).read()
  File "D:\Python35\lib\http\client.py", line 446, in read
    s = self._safe_read(self.length)
  File "D:\Python35\lib\http\client.py", line 592, in _safe_read
    chunk = self.fp.read(min(amt, MAXAMOUNT))
  File "D:\Python35\lib\socket.py", line 575, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out
Job "getData (trigger: interval[0:00:02], next run at: 2018-02-12 13:20:21 CST)" raised an exception
Traceback (most recent call last):
  File "D:\Python35\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "D:\aqua\stock\stocking\src\tools\T10.py", line 111, in getData
    queueMaps[key].put(df)
  File "<string>", line 2, in put
  File "D:\Python35\lib\multiprocessing\managers.py", line 716, in _callmethod
    conn.send((self._id, methodname, args, kwds))
  File "D:\Python35\lib\multiprocessing\connection.py", line 206, in send
    self._send_bytes(ForkingPickler.dumps(obj))
  File "D:\Python35\lib\multiprocessing\connection.py", line 280, in _send_bytes
    ov, err = _winapi.WriteFile(self._handle, buf, overlapped=True)
BrokenPipeError: [WinError 232] The pipe is being closed
 table 'stocking.live_002376'") [SQL: '\nDROP TABLE live_002376']

[2018-02-12 09:30:03] save [002600] data error 

(_mysql_exceptions.OperationalError) (1051, "Unknown table 'stocking.live_002600'") [SQL: '\nDROP TABLE live_002600']

[2018-02-12 09:30:03] save [002416] data error 

(_mysql_exceptions.OperationalError) (1051, "Unknown table 'stocking.live_002416'") [SQL: '\nDROP TABLE live_002416']

 '10.670', '10', '10.680', '72', '10.690', '2018-02-12', '09:30:16', '603007', None, None, None, None, None), ('花王股份', '10.500', '10.120', '10.470', '10.590', '10.330', '10.470', '10.550', '150600', '1581935.000', '14', '10.470', '80', '10.400', '10', '10.380', '74', '10.330', '5', '10.300', '6', '10.550', '50', '10.590', '85', '10.600', '100', '10.670', '10', '10.680', '2018-02-12', '09:30:19', '603007', None, None, None, None, None), ('花王股份', '10.500', '10.120', '10.400', '10.590', '10.330', '10.400', '10.550', '152300', '1599713.000', '78', '10.400', '10', '10.380', '74', '10.330', '5', '10.300', '245', '10.260', '6', '10.550', '50', '10.590', '85', '10.600', '100', '10.670', '10', '10.680', '2018-02-12', '09:30:22', '603007', None, None, None, None, None), ('花王股份', '10.500', '10.120', '10.400', '10.590', '10.330', '10.480', '10.510', '152300', '1599713.000', '2', '10.480', '78', '10.400', '10', '10.380', '74', '10.330', '5', '10.300', '6', '10.510', '6', '10.550', '50', '10.590', '85', '10.600', '100', '10.670', '2018-02-12', '09:30:25', '603007', None, None, None, None, None)  ... displaying 10 of 171 total bound parameter sets ...  ('花王股份', '10.500', '10.120', '10.790', '10.800', '10.330', '10.790', '10.820', '829200', '8758362.000', '95', '10.790', '13', '10.780', '5', '10.770', '24', '10.760', '70', '10.750', '12', '10.820', '132', '10.850', '38', '10.870', '30', '10.880', '3', '10.890', '2018-02-12', '09:38:57', '603007', None, None, None, None, None), ('花王股份', '10.500', '10.120', '10.850', '10.850', '10.330', '10.800', '10.850', '837700', '8850491.000', '21', '10.800', '102', '10.790', '13', '10.780', '5', '10.770', '24', '10.760', '69', '10.850', '38', '10.870', '30', '10.880', '3', '10.890', '10', '10.940', '2018-02-12', '09:39:00', '603007', 3195560.0, 0.01156688302245957, 0.02428485295102827, 0.03952569169960449, 1.0))]

save [603016] data error 

`live_603016`

[2018-02-12 09:30:01] save [600397] data error 

(_mysql_exceptions.OperationalError) (1050, "Table 'live_600397' already exists") [SQL: '\nCREATE TABLE live_600397 (\n\tname TEXT, \n\topen TEXT, \n\tpre_close TE[2018-02-12 09:30:03] save [002864] data error 

(_mysql_exceptions.OperationalError) (1051, "Unknown table 'stocking.live_002864'") [SQL: '\nDROP TABLE live_002864']

[2018-02-12 09:30:03] save [002863] data error 

(_mysql_exceptions.OperationalError) (1051, "Unknown table 'stocking.live_002863'") [SQL: '\nDROP TABLE live_002863']

[2018-02-12 09:30:01] save [600293] data error 

`live_600293`

save [300340] data error 

(_mysql_exceptions.OperationalError) (1051, "Unknown table 'stocking.live_300340'") [SQL: '\nDROP TABLE live_300340']

']

[2018-02-12 09:30:01] save [600588] data error 

`live_600588`

[2018-02-12 09:29:44] save [603578] data error 

(_mysql_exceptions.OperationalError) (1050, "Table 'live_603578' already exists") [SQL: '\nCREATE TABLE live_603578 (\n\tname TEXT, \n\topen TEXT, \n\tpre_close TEXT, \n\tprice TEXT, \n\thigh TEXT, \n\tlow TEXT, \n\tbid TEXT, \n\task TEXT, \n\tvolume TEXT, \n\tamount TEXT, \n\tb1_v TEXT, \n\tb1_p TEXT, \n\tb2_v TEXT, \n\tb2_p TEXT, \n\tb3_v TEXT, \n\tb3_p TEXT, \n\tb4_v TEXT, \n\tb4_p TEXT, \n\tb5_v TEXT, \n\tb5_p TEXT, \n\ta1_v TEXT, \n\ta1_p TEXT, \n\ta2_v TEXT, \n\ta2_p TEXT, \n\ta3_v TEXT, \n\ta3_p TEXT, \n\ta4_v TEXT, \n\ta4_p TEXT, \n\ta5_v TEXT, \n\ta5_p TEXT, \n\tdate TEXT, \n\ttime TEXT, \n\tcode TEXT, \n\tnet FLOAT(53), \n\tv300 FLOAT(53), \n\tv120 FLOAT(53), \n\tv30 FLOAT(53), \n\tr_break FLOAT(53)\n)\n\n']

[2018-02-12 09:30:01] save [600854] data error 

(_mysql_exceptions.ProgrammingError) (1146, "Table 'stocking.live_600854' doesn't exist") [SQL: 'INSERT INTO live_600854 (name, open, pre_close, price, high, low, bid, ask, volume, amount, b1_v, b1_p, b2_v, b2_p, b3_v, b3_p, b4_v, b4_p, b5_v, b5_p, a1_v, a1_p, a2_v, a2_p, a3_v, a3_p, a4_v, a4_p, a5_v, a5_p, date, time, code, net, v300, v120, v30, r_break) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (('春兰股份', '4.440', '4.400', '4.440', '4.440', '4.440', '4.420', '4.440', '3200', '14208.000', '55', '4.420', '10', '4.410', '7', '4.400', '67', '4.390', '2740', '4.380', '71', '4.440', '33', '4.450', '4', '4.480', '30', '4.490', '6', '4.500', '2018-02-12', '09:30:01', '600854', None, None, None, None, None), ('春兰股份', '4.440', '4.400', '4.440', '4.440', '4.420', '4.430', '4.440', '11300', '50131.000', '113', '4.430', '35', '4.420', '10', '4.410', '67', '4.400', '67', '4.390', '11', '4.440', '33', '4.450', '65', '4.480', '30', '4.490', '6', '4.500', '2018-02-12', '09:30:04', '600854', None, None, None, None, None), ('春兰股份', '4.440', '4.400', '4.480', '4.480', '4.420', '4.440', '4.480', '16300', '72388.000', '5', '4.440', '113', '4.430', '35', '4.420', '10', '4.410', '69', '4.400', '59', '4.480', '30', '4.490', '6', '4.500', '30', '4.510', '14', '4.550', '2018-02-12', '09:30:07', '600854', None, None, None, None, None), ('春兰股份', '4.440', '4.400', '4.480', '4.480', '4.420', '4.440', '4.480', '16300', '72388.000', '5', '4.440', '179', '4.430', '35', '4.420', '10', '4.410', '69', '4.400', '59', '4.480', '30', '4.490', '6', '4.500', '30', '4.510', '14', '4.550', '2018-02-12', '09:30:10', '600854', None, None, None, None, None), ('春兰股份', '4.440', '4.400', '4.480', '4.480', '4.420', '4.440', '4.480', '16300', '72388.000', '5', '4.440', '113', '4.430', '35', '4.420', '10', '4.410', '69', '4.400', '59', '4.480', '30', '4.490', '6', '4.500', '30', '4.510', '14', '4.550', '2018-02-12', '09:30:22', '600854', None, None, None, None, None), ('春兰股份', '4.440', '4.400', '4.480', '4.480', '4.420', '4.440', '4.480', '16300', '72388.000', '5', '4.440', '113', '4.430', '35', '4.420', '10', '4.410', '69', '4.400', '79', '4.480', '30', '4.490', '30', '4.510', '14', '4.550', '200', '4.560', '2018-02-12', '09:30:31', '600854', None, None, None, None, None), ('春兰股份', '4.440', '4.400', '4.480', '4.480', '4.420', '4.440', '4.480', '16300', '72388.000', '5', '4.440', '113', '4.430', '35', '4.420', '10', '4.410', '69', '4.400', '89', '4.480', '30', '4.490', '30', '4.510', '14', '4.550', '200', '4.560', '2018-02-12', '09:30:34', '600854', None, None, None, None, None), ('春兰股份', '4.440', '4.400', '4.480', '4.480', '4.420', '4.440', '4.470', '16300', '72388.000', '5', '4.440', '113', '4.430', '35', '4.420', '10', '4.410', '69', '4.400', '70', '4.470', '89', '4.480', '30', '4.490', '30', '4.510', '14', '4.550', '2018-02-12', '09:30:37', '600854', None, None, None, None, None)  ... displaying 10 of 444 total bound parameter sets ...  ('春兰股份', '4.440', '4.400', '4.770', '4.800', '4.420', '4.760', '4.770', '3017900', '13956156.000', '278', '4.760', '278', '4.750', '451', '4.740', '172', '4.730', '143', '4.720', '10', '4.770', '131', '4.780', '286', '4.800', '783', '4.810', '530', '4.820', '2018-02-12', '09:58:24', '600854', None, None, None, None, None), ('春兰股份', '4.440', '4.400', '4.800', '4.800', '4.420', '4.800', '4.810', '3060600', '14160824.000', '213', '4.800', '1088', '4.760', '248', '4.750', '451', '4.740', '172', '4.730', '783', '4.810', '530', '4.820', '2556', '4.830', '6875', '4.840', '', '0.000', '2018-02-12', '09:58:27', '600854', 10499720.0, 0.01368197020370931, 0.026737967914438443, 0.015151515151514828, 19.0))]

